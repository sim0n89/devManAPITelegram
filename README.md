# Сохранение фото

## Установка
Установите зависимости
```
pip requirements.txt
```

## Скачивание фото запуска spasex 

Скрипт `spacex_images.py`. Для запуска выполните      
```
python spacex_images.py
```   
Будут запрошены и сохранены фото последнего запуска.    
Поддерживается параметр id запуска, введя id сохранятся фото конкретного запуска.    
```
python spacex_images.py -id idзапуска
```    


## Скачивание лучшего фото дня от NASA

Для запуска получите ключ от НАСА по [ссылке](https://api.nasa.gov/#apod). Его нужно ввести в файл .env в переменную NASA_API_KEY. Для запуска введите команду     
```
python nasa_apod.py
```   
Для ограничения количества скачиваемых фото поддерживается параметр максимального их количества.
```
python nasa_apod.py -q количество
```  

## Скачивание лучших фото Земли от NASA
Необходим API ключ из пункта выше. 
Для запуска введите:   
```
python nasa_epic_earth.py
```   
Поддерживается параметр количества фото `-q`


# Отправка фото в телеграм
Отправляет фото в телеграм канал с заданой переодичностью. Все фото лежат в папке images. После того как все фото будут отправлены, заново соберет фото из папки перемешает и будет отправлять

## Настройка

Программа берет настройки из нестандартных переменных окружения. Перед запуском программы создаём фаил .env и ложим туда свой Nasa API ключ, токен телеграм бота который нужно создать и id чата.
```
NASA_API_KEY - Ключ наса 
BOT_TOKEN - Токен бота
CHAT_ID - Id канала для публикации изображений
SLEEP_TIME - Время задержки при отправке изображений, по умолчанию 4 часа
```

## Запуск
Запуск производится командой 
```
python telegram_bot.py
```
В таком случае будет оптправлена одна случайная фотография.
Для отправки конкретной фотографии путь до нее указывается в параметре `-f` или `--file` например:
```
python telegram_bot.py -f images/spacex0.jpg
```
Для запуска бесконечного отправления с интервалом `SLEEP_TIME`, задайте значение атрбуту `-f` равное `all`:
```
python telegram_bot.py -f all
```